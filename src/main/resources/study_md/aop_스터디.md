# AOP 스터디
### AOP...?
- 여러 비지니스 로직 사이에 중복된 기능(트랜잭션, 로깅, 보안 등)을 별도로 분리 하여 모듈화 하는 개념이다. 학술적용어러 횡단관심사, Cross Cutting Concerns 이라고도한다.


###비지니스 로직과 트랜잭션을 분리하는 방법
 - 인터페이스를 만든다.
 - 인터페이스를 구현한 비지니스로직을 만든다.
 - 인터페이스를 구현한 트랜잭션로직을 만든다. 기능은 비지니스로직 오브젝트에 위임한다.
 
위의 같은 분리 작업을 <b>프록시</b>를 사용했다고 일반적으로 말한다.


###프록시

 - 프록시 : 클라이언트가 사용하려하는 대상(target)오브젝트인것 처럼 행동한다. 즉 타겟 오브젝트의 대래인 역할을 한다. 그래서 프록시(Proxy)이다.
 - 타깃 : 실제 클라이언트 요청을 처리하는 오브젝트. 혹은 'real subject'라고도 함.

프록시의 특징은 타깃과 같은 인터페이스를 구현했다는 것과 프록시가 타깃을 제어할 수 있다는 점이다.

 - 프로시 패턴 : 타깃을 제어하는 디자인패턴
	 - 접근제어는 모두 프록시패턴으로 분류
	 - ex) Collections의 unmodifiableCollection()
 - 데코레이션패턴 : 타깃에 부가적인 기능을 부여하는 다자인 패턴
	 - 런타임시 다이나믹하게 작동.
	 - ex) 트랜잭션 로직

두가지 모두 프로시 개념을 사용한다는 동일하나 디자인 패턴에서는 다른 패턴으로 구분한다.


프록시의 구성
 
 -  타깃과 같은 메소드를 구현. 메소드가 호출되면 타깃 오브젝트로 위임.
 -  요청에 대해 부가기능 수행.

프록시 단점

 - 구현하고있는 인터페이스의 메소드가 많아지면 일일이 타깃에게 위임하는 작업을 해야한다. 인터페이스가 변경될때마다 같이 수정해줘야함.
 - 부가기능 코드가 중복될 가능성이 매우 농후함. 트랙잭션이 여러메소드에 써지게 되면 그만큼 중복되서 나타나게됨.


### 다이나믹 프록시
 
 - 위와 같은 단점을 커버하기 위해서 JDK 다이나믹 프록시가 있다.
 - Java의 Reflection을 사용하여 타깃의 메소드를 실행(invoke)시키는 방법임.
 - 따라서 패턴에따라 부가기능을 실행시켜줄 수 있어 중복코드를 방지 할수 있음.

FactoryBean을 구현하며 다이나믹 프록시 팩토리를 만들어 여러 경우 사용할 수 있다.
(자세한건 예제를..)

### ProxyFactoryBean
 스프링에선 ProxyFactoryBean을 제공해준다. 이것을통해 다이내믹 프록시를 받을수 있다.

- 포인트컷 : 메소드 선정 알고리즘
- 어드바이스 : 부가기능 (트렌젝션 같이..)

- 스프링의 DI와 템플릿/콜백 패턴 등이 적용됨
- 여러프록시가 공유 할 수 있는 어드바이스와 포인트컷으로 확장 기능 분리 가능
(역시 예제를..)


	  


